<!DOCTYPE html>
<html>
<head>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    
    th, td {
      text-align: left;
      padding: 8px;
    }
    
    th {
      background-color: #f2f2f2;
    }
    
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <h1 style="text-align: center;">商品购物车列表</h1>
  <table align="center" id="product-table" style="width: 500px;margin: 0 auto; " >
    <tr>
      <th>商品名</th>
      <th>商品价格</th>
      <th>商品数量</th>
    </tr>
  </table>

  <script>
    // 使用jQuery的AJAX方法获取商品信息并更新表格
    $(document).ready(function() {
      $.ajax({
        url: "http://127.0.0.1:3000/cart-list",
        method: "GET",
        success: function(response) {
          // 清空表格内容
          
          // 遍历商品数组并添加到表格中
          response.forEach(function(product) {
            var row = "<tr>"
                      + "<td>" + product.item_name + "</td>"
                      + "<td>$" + product.price + "</td>"
                      + "<td>" + product.quantity + "</td>"
                      + "</tr>";
           var head = "<tr>"
                      + "<td>" + "商品名称" + "</td>"
                      + "<td>$" + "商品价格" + "</td>"
                      + "<td>" + "商品数量" + "</td>"
                      + "</tr>";
            $("#product-table").append(row);
          
          });
        },
        error: function(error) {
          console.log("请求出错：", error);
        }
      });
    });
  </script>
</body>
</html>
